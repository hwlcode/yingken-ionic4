(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{pZl2:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),o=t("pMnS"),a=t("oBZk"),b=t("ZZ/e"),i=t("Ip0R"),r=t("mrSG"),c=t("34Y5"),s=function(){function n(n,l,t,u){var e=this;this.events=n,this.storage=l,this.navCtrl=t,this.modalCtrl=u,this.cartNum=0,this.events.subscribe("cart:add",(function(n){if(0===n.length)e.cartNum=0;else{var l=0;n.map((function(n){l+=n.num})),e.cartNum=l}})),this.storage.get("cart").then((function(n){if(null!==n){var l=0;n.map((function(n){l+=n.num})),e.cartNum=l}}))}return n.prototype.tabClick=function(){var n=this,l=this.tabs.getSelected();"cart"!==l&&"profile"!==l||this.storage.get("user").then((function(l){return r.b(n,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return null!=l?[3,2]:[4,this.modalCtrl.create({component:c.a})];case 1:n.sent().present(),this.navCtrl.navigateRoot("/tabs/index"),n.label=2;case 2:return[2]}}))}))}))},n}(),h=t("iw74"),f=u.rb({encapsulation:0,styles:[[".iconfont[_ngcontent-%COMP%], .iconfont.icon-shouye[_ngcontent-%COMP%]{font-size:25px}.iconfont.icon-fankui[_ngcontent-%COMP%]{font-size:30px}.cart[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;flex:1}.cart[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;z-index:1;right:15px;top:0}"]],data:{}});function d(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,2,"ion-badge",[["class","badge"],["color","danger"]],null,null,null,a.P,a.d)),u.sb(1,49152,null,0,b.k,[u.h,u.k,u.z],{color:[0,"color"]},null),(n()(),u.Lb(2,0,["",""]))],(function(n,l){n(l,1,0,"danger")}),(function(n,l){n(l,2,0,l.component.cartNum)}))}function p(n){return u.Nb(0,[u.Jb(671088640,1,{tabs:0}),(n()(),u.tb(1,0,null,null,31,"ion-tabs",[],null,[[null,"click"],[null,"ionTabButtonClick"]],(function(n,l,t){var e=!0,o=n.component;return"ionTabButtonClick"===l&&(e=!1!==u.Fb(n,2).select(t.detail.tab)&&e),"click"===l&&(e=!1!==o.tabClick()&&e),e}),a.tb,a.H)),u.sb(2,49152,[[1,4],["ionTabs",4]],1,b.xb,[b.Jb],null,null),u.Jb(335544320,2,{tabBar:0}),(n()(),u.tb(4,0,null,1,28,"ion-tab-bar",[["class","foot-tab-bar"],["slot","bottom"]],null,null,null,a.rb,a.F)),u.sb(5,49152,[[2,4]],0,b.vb,[u.h,u.k,u.z],null,null),(n()(),u.tb(6,0,null,0,5,"ion-tab-button",[["tab","index"]],null,null,null,a.sb,a.G)),u.sb(7,49152,null,0,b.wb,[u.h,u.k,u.z],{tab:[0,"tab"]},null),(n()(),u.tb(8,0,null,0,0,"span",[["class","iconfont icon-shouye"]],null,null,null,null,null)),(n()(),u.tb(9,0,null,0,2,"ion-label",[],null,null,null,a.fb,a.t)),u.sb(10,49152,null,0,b.O,[u.h,u.k,u.z],null,null),(n()(),u.Lb(-1,0,["\u9996\u9875"])),(n()(),u.tb(12,0,null,0,5,"ion-tab-button",[["tab","mall"]],null,null,null,a.sb,a.G)),u.sb(13,49152,null,0,b.wb,[u.h,u.k,u.z],{tab:[0,"tab"]},null),(n()(),u.tb(14,0,null,0,0,"span",[["class","iconfont icon-store"]],null,null,null,null,null)),(n()(),u.tb(15,0,null,0,2,"ion-label",[],null,null,null,a.fb,a.t)),u.sb(16,49152,null,0,b.O,[u.h,u.k,u.z],null,null),(n()(),u.Lb(-1,0,["\u5546\u57ce"])),(n()(),u.tb(18,0,null,0,8,"div",[["class","cart"]],null,null,null,null,null)),(n()(),u.tb(19,0,null,null,5,"ion-tab-button",[["tab","cart"]],null,null,null,a.sb,a.G)),u.sb(20,49152,null,0,b.wb,[u.h,u.k,u.z],{tab:[0,"tab"]},null),(n()(),u.tb(21,0,null,0,0,"span",[["class","iconfont icon-gouwuche"]],null,null,null,null,null)),(n()(),u.tb(22,0,null,0,2,"ion-label",[],null,null,null,a.fb,a.t)),u.sb(23,49152,null,0,b.O,[u.h,u.k,u.z],null,null),(n()(),u.Lb(-1,0,["\u8d2d\u7269\u8f66"])),(n()(),u.ib(16777216,null,null,1,null,d)),u.sb(26,16384,null,0,i.j,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.tb(27,0,null,0,5,"ion-tab-button",[["tab","profile"]],null,null,null,a.sb,a.G)),u.sb(28,49152,null,0,b.wb,[u.h,u.k,u.z],{tab:[0,"tab"]},null),(n()(),u.tb(29,0,null,0,0,"span",[["class","iconfont icon-account"]],null,null,null,null,null)),(n()(),u.tb(30,0,null,0,2,"ion-label",[],null,null,null,a.fb,a.t)),u.sb(31,49152,null,0,b.O,[u.h,u.k,u.z],null,null),(n()(),u.Lb(-1,0,["\u6211\u7684"]))],(function(n,l){var t=l.component;n(l,7,0,"index"),n(l,13,0,"mall"),n(l,20,0,"cart"),n(l,26,0,t.cartNum>0),n(l,28,0,"profile")}),null)}function g(n){return u.Nb(0,[(n()(),u.tb(0,0,null,null,1,"app-tabs",[],null,null,null,p,f)),u.sb(1,49152,null,0,s,[b.e,h.b,b.Jb,b.Ib],null,null)],null,null)}var m=u.pb("app-tabs",s,g,{},{},[]),k=t("gIcY"),C=t("ZYCi"),v=function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"FH9X")).then((function(n){return n.IndexPageModuleNgFactory}))},P=function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"eDSp")).then((function(n){return n.MallPageModuleNgFactory}))},M=function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,"mE0X")).then((function(n){return n.CartPageModuleNgFactory}))},x=function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"7Csk")).then((function(n){return n.MessagePageModuleNgFactory}))},D=function(){return t.e(7).then(t.bind(null,"UIoA")).then((function(n){return n.ProfilePageModuleNgFactory}))},N=function(){return function(){}}();t.d(l,"TabsPageModuleNgFactory",(function(){return w}));var w=u.qb(e,[],(function(n){return u.Cb([u.Db(512,u.j,u.bb,[[8,[o.a,m]],[3,u.j],u.x]),u.Db(4608,i.l,i.k,[u.u,[2,i.r]]),u.Db(4608,b.b,b.b,[u.z,u.g]),u.Db(4608,b.Ib,b.Ib,[b.b,u.j,u.q]),u.Db(4608,b.Lb,b.Lb,[b.b,u.j,u.q]),u.Db(4608,k.p,k.p,[]),u.Db(1073742336,i.b,i.b,[]),u.Db(1073742336,b.Fb,b.Fb,[]),u.Db(1073742336,k.o,k.o,[]),u.Db(1073742336,k.e,k.e,[]),u.Db(1073742336,C.o,C.o,[[2,C.t],[2,C.m]]),u.Db(1073742336,N,N,[]),u.Db(1073742336,e,e,[]),u.Db(1024,C.k,(function(){return[[{path:"tabs",component:s,children:[{path:"index",children:[{path:"",loadChildren:v}]},{path:"mall",children:[{path:"",loadChildren:P}]},{path:"cart",children:[{path:"",loadChildren:M}]},{path:"message",children:[{path:"",loadChildren:x}]},{path:"profile",children:[{path:"",loadChildren:D}]},{path:"",redirectTo:"/tabs/index",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/index",pathMatch:"full"}]]}),[])])}))}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{FH9X:function(l,n,t){"use strict";t.r(n);var i=t("CcnG"),u=t("mrSG"),e=t("S3Px"),o=t("2Rin"),r=t("ZZ/e"),s=t("34Y5"),c=function(){function l(l,n,t,i,u){this.productsService=l,this.navCtrl=n,this.storage=t,this.modalCtrl=i,this.utilService=u,this.slides=["http://cdn.gxyingken.com/banner_1.jpg?imageView2/2/w/720/q/60","http://cdn.gxyingken.com/banner_2.jpg?imageView2/2/w/720/q/60"],this.slideOpts={autoplay:!0,loop:!0,slidesPerView:"auto",centeredSlides:!0},this.infiniteScroll=null,this.last=!1,this.page=1}return l.prototype.ngOnInit=function(){return u.b(this,void 0,void 0,(function(){var l,n=this;return u.e(this,(function(t){switch(t.label){case 0:return[4,this.utilService.showLoading()];case 1:return l=t.sent(),this.getProductList("",1).subscribe((function(t){return u.b(n,void 0,void 0,(function(){return u.e(this,(function(n){return l.dismiss(),0===t.code&&(this.products=t.data),[2]}))}))}),(function(l){n.errorMessage=l,n.utilService.showToast(l)})),[2]}}))}))},l.prototype.getProductList=function(l,n){return this.productsService.getProductList(l,n)},l.prototype.goToDetail=function(l){this.navCtrl.navigateForward(["/detail"],{queryParams:{id:l._id}})},l.prototype.login=function(){var l=this;this.storage.get("user").then((function(n){return u.b(l,void 0,void 0,(function(){return u.e(this,(function(l){switch(l.label){case 0:return null==n?[3,1]:(this.navCtrl.navigateRoot("/tabs/profile"),[3,3]);case 1:return[4,this.modalCtrl.create({component:s.a})];case 2:l.sent().present(),l.label=3;case 3:return[2]}}))}))}))},l.prototype.goToProductList=function(l){this.navCtrl.navigateRoot("/tabs/mall")},l.prototype.doRefresh=function(l){return u.b(this,void 0,void 0,(function(){var n,t=this;return u.e(this,(function(i){switch(i.label){case 0:return this.page=1,[4,this.utilService.showLoading()];case 1:return n=i.sent(),this.getProductList("",this.page).subscribe((function(i){0===i.code&&(t.last=i.isLast,t.products=i.data,t.infiniteScroll&&(t.infiniteScroll.target.disabled=!1),l.target.complete()),n.dismiss()}),(function(l){t.errorMessage=l,t.utilService.showToast(l)})),[2]}}))}))},l.prototype.doInfinite=function(l){return u.b(this,void 0,void 0,(function(){var n,t=this;return u.e(this,(function(i){switch(i.label){case 0:return this.page++,this.infiniteScroll=l,[4,this.utilService.showLoading()];case 1:return n=i.sent(),this.getProductList("",this.page).subscribe((function(i){0===i.code&&(t.last=i.isLast,t.products=t.products.concat(i.data),t.products.concat(i.data),l.target.complete(),t.last&&(l.target.disabled=!0)),n.dismiss()}),(function(l){t.errorMessage=l,t.utilService.showToast(l)})),[2]}}))}))},l}(),a=function(){return function(){}}(),b=t("pMnS"),p=t("oBZk"),d=t("gIcY"),h=t("Ip0R"),g=t("iw74"),f=i.rb({encapsulation:0,styles:[[".logo[_ngcontent-%COMP%]{font-weight:700}.avatar[_ngcontent-%COMP%]{width:30px;height:30px}.slides[_ngcontent-%COMP%]{width:100%}.slide[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;-webkit-transition:.4s;transition:.4s;-webkit-transform:scale(1);transform:scale(1);border-radius:5px;overflow:hidden}.slide.swiper-slide-active[_ngcontent-%COMP%]{-webkit-transform:scale(1);transform:scale(1)}.title[_ngcontent-%COMP%]{margin-top:10px}.item-body[_ngcontent-%COMP%]{box-shadow:none;--background:#fff;margin:0;border-radius:3px}.name[_ngcontent-%COMP%]{height:52px;overflow:hidden;color:#555;padding:10px;line-height:20px;margin-bottom:15px}.price[_ngcontent-%COMP%]{padding:0 10px}.old-price[_ngcontent-%COMP%]{padding:0 10px;display:block;margin-bottom:10px;line-height:25px;color:#acacac}"]],data:{}});function m(l){return i.Nb(0,[(l()(),i.tb(0,0,null,null,2,"ion-slide",[["class","slide"]],null,null,null,p.pb,p.D)),i.sb(1,49152,null,0,r.rb,[i.h,i.k,i.z],null,null),(l()(),i.tb(2,0,null,0,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,i.xb(1,"",n.context.$implicit,""))}))}function v(l){return i.Nb(0,[(l()(),i.tb(0,0,null,null,13,"ion-col",[["class","list-item"],["size","6"]],null,null,null,p.T,p.h)),i.sb(1,49152,null,0,r.u,[i.h,i.k,i.z],{size:[0,"size"]},null),(l()(),i.tb(2,0,null,0,11,"ion-card",[["class","item-body"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.goToDetail(l.context.$implicit)&&i),i}),p.S,p.g)),i.sb(3,49152,null,0,r.n,[i.h,i.k,i.z],null,null),(l()(),i.tb(4,0,null,0,0,"img",[["alt",""],["height","147"],["width","100%"]],[[8,"src",4]],null,null,null,null)),(l()(),i.tb(5,0,null,0,1,"p",[["class","name"]],null,null,null,null,null)),(l()(),i.Lb(6,null,["",""])),(l()(),i.tb(7,0,null,0,4,"p",[["class","price"]],null,null,null,null,null)),(l()(),i.Lb(-1,null,["\uffe5"])),(l()(),i.tb(9,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(l()(),i.Lb(10,null,["",""])),(l()(),i.Lb(11,null,["/",""])),(l()(),i.tb(12,0,null,0,1,"del",[["class","old-price"]],null,null,null,null,null)),(l()(),i.Lb(13,null,["\uffe5","/",""]))],(function(l,n){l(n,1,0,"6")}),(function(l,n){l(n,4,0,i.xb(1,"",null==n.context.$implicit?null:n.context.$implicit.banner.path,"")),l(n,6,0,null==n.context.$implicit?null:n.context.$implicit.name),l(n,10,0,null==n.context.$implicit?null:n.context.$implicit.price),l(n,11,0,null==n.context.$implicit?null:n.context.$implicit.unit),l(n,13,0,null==n.context.$implicit?null:n.context.$implicit.origin_price,null==n.context.$implicit?null:n.context.$implicit.origin_price_unit)}))}function x(l){return i.Nb(0,[(l()(),i.tb(0,0,null,null,17,"ion-header",[],null,null,null,p.Z,p.n)),i.sb(1,49152,null,0,r.C,[i.h,i.k,i.z],null,null),(l()(),i.tb(2,0,null,0,15,"ion-toolbar",[["class","toolbar"]],null,null,null,p.xb,p.L)),i.sb(3,49152,null,0,r.Db,[i.h,i.k,i.z],null,null),(l()(),i.tb(4,0,null,0,4,"ion-buttons",[["slot","secondary"]],null,null,null,p.R,p.f)),i.sb(5,49152,null,0,r.m,[i.h,i.k,i.z],null,null),(l()(),i.tb(6,0,null,0,2,"ion-button",[["class","logo"]],null,null,null,p.Q,p.e)),i.sb(7,49152,null,0,r.l,[i.h,i.k,i.z],null,null),(l()(),i.Lb(-1,0,["\u76c8\u57a6"])),(l()(),i.tb(9,0,null,0,3,"ion-searchbar",[["placeholder","\u8f93\u5165\u4f60\u8981\u641c\u7d22\u7684\u5546\u54c1"]],null,[[null,"keyup"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,t){var u=!0,e=l.component;return"ionBlur"===n&&(u=!1!==i.Fb(l,12)._handleBlurEvent(t.target)&&u),"ionChange"===n&&(u=!1!==i.Fb(l,12)._handleInputEvent(t.target)&&u),"keyup"===n&&(u=!1!==e.goToProductList(t)&&u),u}),p.kb,p.y)),i.Ib(5120,null,d.h,(function(l){return[l]}),[r.Ob]),i.sb(11,49152,null,0,r.lb,[i.h,i.k,i.z],{placeholder:[0,"placeholder"]},null),i.sb(12,16384,null,0,r.Ob,[i.k],null,null),(l()(),i.tb(13,0,null,0,4,"ion-buttons",[["slot","primary"]],null,null,null,p.R,p.f)),i.sb(14,49152,null,0,r.m,[i.h,i.k,i.z],null,null),(l()(),i.tb(15,0,null,0,2,"ion-avatar",[["class","avatar"]],null,[[null,"click"]],(function(l,n,t){var i=!0;return"click"===n&&(i=!1!==l.component.login()&&i),i}),p.N,p.b)),i.sb(16,49152,null,0,r.g,[i.h,i.k,i.z],null,null),(l()(),i.tb(17,0,null,0,0,"img",[["src","../../assets/images/avatar.png"]],null,null,null,null,null)),(l()(),i.tb(18,0,null,null,21,"ion-content",[["class","content"]],null,null,null,p.U,p.i)),i.sb(19,49152,null,0,r.v,[i.h,i.k,i.z],null,null),(l()(),i.tb(20,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,t){var i=!0;return"ionRefresh"===n&&(i=!1!==l.component.doRefresh(t)&&i),i}),p.ib,p.v)),i.sb(21,49152,null,0,r.eb,[i.h,i.k,i.z],{pullFactor:[0,"pullFactor"]},null),(l()(),i.tb(22,0,null,0,1,"ion-refresher-content",[],null,null,null,p.hb,p.w)),i.sb(23,49152,null,0,r.fb,[i.h,i.k,i.z],null,null),(l()(),i.tb(24,0,null,0,3,"ion-slides",[["class","slides"],["pager","true"]],null,null,null,p.qb,p.E)),i.sb(25,49152,null,0,r.sb,[i.h,i.k,i.z],{options:[0,"options"],pager:[1,"pager"]},null),(l()(),i.ib(16777216,null,0,1,null,m)),i.sb(27,278528,null,0,h.i,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(l()(),i.tb(28,0,null,0,1,"h2",[["class","title"]],null,null,null,null,null)),(l()(),i.Lb(-1,null,["\u70ed\u9500\u5546\u54c1"])),(l()(),i.tb(30,0,null,0,5,"ion-grid",[],null,null,null,p.Y,p.m)),i.sb(31,49152,null,0,r.B,[i.h,i.k,i.z],null,null),(l()(),i.tb(32,0,null,0,3,"ion-row",[],null,null,null,p.jb,p.x)),i.sb(33,49152,null,0,r.kb,[i.h,i.k,i.z],null,null),(l()(),i.ib(16777216,null,0,1,null,v)),i.sb(35,278528,null,0,h.i,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(l()(),i.tb(36,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(l,n,t){var i=!0;return"ionInfinite"===n&&(i=!1!==l.component.doInfinite(t)&&i),i}),p.cb,p.p)),i.sb(37,49152,null,0,r.F,[i.h,i.k,i.z],{threshold:[0,"threshold"]},null),(l()(),i.tb(38,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","\u52a0\u8f7d\u66f4\u591a\u4e2d..."]],null,null,null,p.bb,p.q)),i.sb(39,49152,null,0,r.G,[i.h,i.k,i.z],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){var t=n.component;l(n,11,0,"\u8f93\u5165\u4f60\u8981\u641c\u7d22\u7684\u5546\u54c1"),l(n,21,0,"0.5"),l(n,25,0,t.slideOpts,"true"),l(n,27,0,t.slides),l(n,35,0,t.products),l(n,37,0,"100px"),l(n,39,0,"bubbles","\u52a0\u8f7d\u66f4\u591a\u4e2d...")}),null)}function k(l){return i.Nb(0,[(l()(),i.tb(0,0,null,null,1,"app-index",[],null,null,null,x,f)),i.sb(1,114688,null,0,c,[e.a,r.Jb,g.b,r.Ib,o.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=i.pb("app-index",c,k,{},{},[]),y=t("ZYCi");t.d(n,"IndexPageModuleNgFactory",(function(){return L}));var L=i.qb(a,[],(function(l){return i.Cb([i.Db(512,i.j,i.bb,[[8,[b.a,w]],[3,i.j],i.x]),i.Db(4608,h.l,h.k,[i.u,[2,h.r]]),i.Db(4608,d.p,d.p,[]),i.Db(4608,r.b,r.b,[i.z,i.g]),i.Db(4608,r.Ib,r.Ib,[r.b,i.j,i.q]),i.Db(4608,r.Lb,r.Lb,[r.b,i.j,i.q]),i.Db(1073742336,h.b,h.b,[]),i.Db(1073742336,d.o,d.o,[]),i.Db(1073742336,d.e,d.e,[]),i.Db(1073742336,r.Fb,r.Fb,[]),i.Db(1073742336,y.o,y.o,[[2,y.t],[2,y.m]]),i.Db(1073742336,a,a,[]),i.Db(1024,y.k,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);
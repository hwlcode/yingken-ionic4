(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{eDSp:function(n,l,t){"use strict";t.r(l);var i=t("CcnG"),u=t("mrSG"),e=t("S3Px"),o=t("2Rin"),r=t("ZZ/e"),s=function(){function n(n,l,t){this.productsService=n,this.utilService=l,this.navCtrl=t,this.last=!1,this.page=1}return n.prototype.ngOnInit=function(){return u.b(this,void 0,void 0,(function(){var n,l=this;return u.e(this,(function(t){switch(t.label){case 0:return[4,this.utilService.showLoading()];case 1:return n=t.sent(),this.getProductList("",1).subscribe((function(t){return u.b(l,void 0,void 0,(function(){return u.e(this,(function(l){return n.dismiss(),0===t.code&&(this.products=t.data),[2]}))}))}),(function(n){l.errorMessage=n,l.utilService.showToast(n)})),[2]}}))}))},n.prototype.ionViewDidEnter=function(){this.content.scrollToTop(0)},n.prototype.getProductList=function(n,l){return this.productsService.getProductList(n,l)},n.prototype.goToDetail=function(n){this.navCtrl.navigateForward(["/detail"],{queryParams:{id:n._id}})},n.prototype.search=function(){var n=this;this.getProductList(this.keywords,1).subscribe((function(l){0===l.code&&(n.products=l.data)}),(function(l){n.errorMessage=l,console.log(l)}))},n.prototype.doRefresh=function(n){return u.b(this,void 0,void 0,(function(){var l,t=this;return u.e(this,(function(i){switch(i.label){case 0:return this.page=1,[4,this.utilService.showLoading()];case 1:return l=i.sent(),this.getProductList("",this.page).subscribe((function(i){0===i.code&&(t.last=i.isLast,t.products=i.data,t.infiniteScroll&&(t.infiniteScroll.target.disabled=!1),n.target.complete()),l.dismiss()}),(function(n){t.errorMessage=n,t.utilService.showToast(n)})),[2]}}))}))},n.prototype.doInfinite=function(n){return u.b(this,void 0,void 0,(function(){var l,t=this;return u.e(this,(function(i){switch(i.label){case 0:return this.page++,this.infiniteScroll=n,[4,this.utilService.showLoading()];case 1:return l=i.sent(),this.getProductList("",this.page).subscribe((function(i){0===i.code&&(t.last=i.isLast,t.products=t.products.concat(i.data),t.products.concat(i.data),n.target.complete(),t.last&&(n.target.disabled=!0)),l.dismiss()}),(function(n){t.errorMessage=n,t.utilService.showToast(n)})),[2]}}))}))},n}(),c=function(){return function(){}}(),a=t("pMnS"),b=t("oBZk"),d=t("gIcY"),p=t("Ip0R"),h=i.rb({encapsulation:0,styles:[[".item-body[_ngcontent-%COMP%]{box-shadow:none;--background:#fff;margin:0;border-radius:3px}.name[_ngcontent-%COMP%]{height:52px;overflow:hidden;color:#555;padding:10px;line-height:20px;margin-bottom:15px}.price[_ngcontent-%COMP%]{padding:0 10px}.old-price[_ngcontent-%COMP%]{padding:0 10px;display:block;margin-bottom:10px;line-height:25px;color:#acacac}"]],data:{}});function g(n){return i.Nb(0,[(n()(),i.tb(0,0,null,null,13,"ion-col",[["class","list-item"],["size","6"]],null,null,null,b.T,b.h)),i.sb(1,49152,null,0,r.u,[i.h,i.k,i.z],{size:[0,"size"]},null),(n()(),i.tb(2,0,null,0,11,"ion-card",[["class","item-body"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.goToDetail(n.context.$implicit)&&i),i}),b.S,b.g)),i.sb(3,49152,null,0,r.n,[i.h,i.k,i.z],null,null),(n()(),i.tb(4,0,null,0,0,"img",[["alt",""],["height","147"],["width","100%"]],[[8,"src",4]],null,null,null,null)),(n()(),i.tb(5,0,null,0,1,"p",[["class","name"]],null,null,null,null,null)),(n()(),i.Lb(6,null,["",""])),(n()(),i.tb(7,0,null,0,4,"p",[["class","price"]],null,null,null,null,null)),(n()(),i.Lb(-1,null,["\uffe5"])),(n()(),i.tb(9,0,null,null,1,"span",[["class","red"]],null,null,null,null,null)),(n()(),i.Lb(10,null,["",""])),(n()(),i.Lb(11,null,["/",""])),(n()(),i.tb(12,0,null,0,1,"del",[["class","old-price"]],null,null,null,null,null)),(n()(),i.Lb(13,null,["\uffe5","/",""]))],(function(n,l){n(l,1,0,"6")}),(function(n,l){n(l,4,0,i.xb(1,"",null==l.context.$implicit?null:l.context.$implicit.banner.path,"")),n(l,6,0,null==l.context.$implicit?null:l.context.$implicit.name),n(l,10,0,null==l.context.$implicit?null:l.context.$implicit.price),n(l,11,0,null==l.context.$implicit?null:l.context.$implicit.unit),n(l,13,0,null==l.context.$implicit?null:l.context.$implicit.origin_price,null==l.context.$implicit?null:l.context.$implicit.origin_price_unit)}))}function f(n){return i.Nb(0,[i.Jb(671088640,1,{content:0}),(n()(),i.tb(1,0,null,null,10,"ion-header",[],null,null,null,b.Z,b.n)),i.sb(2,49152,null,0,r.C,[i.h,i.k,i.z],null,null),(n()(),i.tb(3,0,null,0,8,"ion-toolbar",[["class","toolbar"]],null,null,null,b.xb,b.L)),i.sb(4,49152,null,0,r.Db,[i.h,i.k,i.z],null,null),(n()(),i.tb(5,0,null,0,6,"ion-searchbar",[["placeholder","\u8f93\u5165\u4f60\u8981\u641c\u7d22\u7684\u5546\u54c1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var u=!0,e=n.component;return"ionBlur"===l&&(u=!1!==i.Fb(n,6)._handleBlurEvent(t.target)&&u),"ionChange"===l&&(u=!1!==i.Fb(n,6)._handleInputEvent(t.target)&&u),"input"===l&&(u=!1!==e.search()&&u),"ngModelChange"===l&&(u=!1!==(e.keywords=t)&&u),u}),b.kb,b.y)),i.sb(6,16384,null,0,r.Ob,[i.k],null,null),i.Ib(1024,null,d.h,(function(n){return[n]}),[r.Ob]),i.sb(8,671744,null,0,d.l,[[8,null],[8,null],[8,null],[6,d.h]],{model:[0,"model"]},{update:"ngModelChange"}),i.Ib(2048,null,d.i,null,[d.l]),i.sb(10,16384,null,0,d.j,[[4,d.i]],null,null),i.sb(11,49152,null,0,r.lb,[i.h,i.k,i.z],{placeholder:[0,"placeholder"]},null),(n()(),i.tb(12,0,null,null,15,"ion-content",[["class","content"]],null,null,null,b.U,b.i)),i.sb(13,49152,[[1,4]],0,r.v,[i.h,i.k,i.z],null,null),(n()(),i.tb(14,0,null,0,3,"ion-refresher",[["pullFactor","0.5"],["slot","fixed"]],null,[[null,"ionRefresh"]],(function(n,l,t){var i=!0;return"ionRefresh"===l&&(i=!1!==n.component.doRefresh(t)&&i),i}),b.ib,b.v)),i.sb(15,49152,null,0,r.eb,[i.h,i.k,i.z],{pullFactor:[0,"pullFactor"]},null),(n()(),i.tb(16,0,null,0,1,"ion-refresher-content",[],null,null,null,b.hb,b.w)),i.sb(17,49152,null,0,r.fb,[i.h,i.k,i.z],null,null),(n()(),i.tb(18,0,null,0,5,"ion-grid",[],null,null,null,b.Y,b.m)),i.sb(19,49152,null,0,r.B,[i.h,i.k,i.z],null,null),(n()(),i.tb(20,0,null,0,3,"ion-row",[],null,null,null,b.jb,b.x)),i.sb(21,49152,null,0,r.kb,[i.h,i.k,i.z],null,null),(n()(),i.ib(16777216,null,0,1,null,g)),i.sb(23,278528,null,0,p.i,[i.O,i.L,i.s],{ngForOf:[0,"ngForOf"]},null),(n()(),i.tb(24,0,null,0,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],(function(n,l,t){var i=!0;return"ionInfinite"===l&&(i=!1!==n.component.doInfinite(t)&&i),i}),b.cb,b.p)),i.sb(25,49152,null,0,r.F,[i.h,i.k,i.z],{threshold:[0,"threshold"]},null),(n()(),i.tb(26,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","\u52a0\u8f7d\u66f4\u591a\u4e2d..."]],null,null,null,b.bb,b.q)),i.sb(27,49152,null,0,r.G,[i.h,i.k,i.z],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(n,l){var t=l.component;n(l,8,0,t.keywords),n(l,11,0,"\u8f93\u5165\u4f60\u8981\u641c\u7d22\u7684\u5546\u54c1"),n(l,15,0,"0.5"),n(l,23,0,t.products),n(l,25,0,"100px"),n(l,27,0,"bubbles","\u52a0\u8f7d\u66f4\u591a\u4e2d...")}),(function(n,l){n(l,5,0,i.Fb(l,10).ngClassUntouched,i.Fb(l,10).ngClassTouched,i.Fb(l,10).ngClassPristine,i.Fb(l,10).ngClassDirty,i.Fb(l,10).ngClassValid,i.Fb(l,10).ngClassInvalid,i.Fb(l,10).ngClassPending)}))}function m(n){return i.Nb(0,[(n()(),i.tb(0,0,null,null,1,"app-mall",[],null,null,null,f,h)),i.sb(1,114688,null,0,s,[e.a,o.a,r.Jb],null,null)],(function(n,l){n(l,1,0)}),null)}var v=i.pb("app-mall",s,m,{},{},[]),x=t("ZYCi");t.d(l,"MallPageModuleNgFactory",(function(){return k}));var k=i.qb(c,[],(function(n){return i.Cb([i.Db(512,i.j,i.bb,[[8,[a.a,v]],[3,i.j],i.x]),i.Db(4608,p.l,p.k,[i.u,[2,p.r]]),i.Db(4608,d.p,d.p,[]),i.Db(4608,r.b,r.b,[i.z,i.g]),i.Db(4608,r.Ib,r.Ib,[r.b,i.j,i.q]),i.Db(4608,r.Lb,r.Lb,[r.b,i.j,i.q]),i.Db(1073742336,p.b,p.b,[]),i.Db(1073742336,d.o,d.o,[]),i.Db(1073742336,d.e,d.e,[]),i.Db(1073742336,r.Fb,r.Fb,[]),i.Db(1073742336,x.o,x.o,[[2,x.t],[2,x.m]]),i.Db(1073742336,c,c,[]),i.Db(1024,x.k,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);
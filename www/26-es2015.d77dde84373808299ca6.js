(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{pZl2:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class a{}var b=t("pMnS"),e=t("oBZk"),o=t("ZZ/e"),i=t("SVse"),r=t("mrSG"),c=t("34Y5");class s{constructor(l,n,t,u){this.events=l,this.storage=n,this.navCtrl=t,this.modalCtrl=u,this.cartNum=0,this.events.subscribe("cart:add",l=>{if(0===l.length)this.cartNum=0;else{let n=0;l.map(l=>{n+=l.num}),this.cartNum=n}}),this.storage.get("cart").then(l=>{if(null!==l){let n=0;l.map(l=>{n+=l.num}),this.cartNum=n}})}tabClick(){const l=this.tabs.getSelected();"cart"!==l&&"profile"!==l||this.storage.get("user").then(l=>r.b(this,void 0,void 0,(function*(){null==l&&((yield this.modalCtrl.create({component:c.a})).present(),this.navCtrl.navigateRoot("/tabs/index"))})))}}var h=t("xgBC"),d=u.pb({encapsulation:0,styles:[[".iconfont[_ngcontent-%COMP%], .iconfont.icon-shouye[_ngcontent-%COMP%]{font-size:25px}.iconfont.icon-fankui[_ngcontent-%COMP%]{font-size:30px}.cart[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;flex:1}.cart[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;z-index:1;right:15px;top:0}"]],data:{}});function p(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,2,"ion-badge",[["class","badge"],["color","danger"]],null,null,null,e.P,e.d)),u.qb(1,49152,null,0,o.k,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.Jb(2,0,["",""]))],(function(l,n){l(n,1,0,"danger")}),(function(l,n){l(n,2,0,n.component.cartNum)}))}function f(l){return u.Lb(0,[u.Hb(671088640,1,{tabs:0}),(l()(),u.rb(1,0,null,null,31,"ion-tabs",[],null,[[null,"click"],[null,"ionTabButtonClick"]],(function(l,n,t){var a=!0,b=l.component;return"ionTabButtonClick"===n&&(a=!1!==u.Db(l,2).select(t.detail.tab)&&a),"click"===n&&(a=!1!==b.tabClick()&&a),a}),e.tb,e.H)),u.qb(2,49152,[[1,4],["ionTabs",4]],1,o.xb,[o.Jb],null,null),u.Hb(335544320,2,{tabBar:0}),(l()(),u.rb(4,0,null,1,28,"ion-tab-bar",[["class","foot-tab-bar"],["slot","bottom"]],null,null,null,e.rb,e.F)),u.qb(5,49152,[[2,4]],0,o.vb,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,5,"ion-tab-button",[["tab","index"]],null,null,null,e.sb,e.G)),u.qb(7,49152,null,0,o.wb,[u.h,u.k,u.x],{tab:[0,"tab"]},null),(l()(),u.rb(8,0,null,0,0,"span",[["class","iconfont icon-shouye"]],null,null,null,null,null)),(l()(),u.rb(9,0,null,0,2,"ion-label",[],null,null,null,e.fb,e.t)),u.qb(10,49152,null,0,o.O,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,["\u9996\u9875"])),(l()(),u.rb(12,0,null,0,5,"ion-tab-button",[["tab","mall"]],null,null,null,e.sb,e.G)),u.qb(13,49152,null,0,o.wb,[u.h,u.k,u.x],{tab:[0,"tab"]},null),(l()(),u.rb(14,0,null,0,0,"span",[["class","iconfont icon-store"]],null,null,null,null,null)),(l()(),u.rb(15,0,null,0,2,"ion-label",[],null,null,null,e.fb,e.t)),u.qb(16,49152,null,0,o.O,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,["\u5546\u57ce"])),(l()(),u.rb(18,0,null,0,8,"div",[["class","cart"]],null,null,null,null,null)),(l()(),u.rb(19,0,null,null,5,"ion-tab-button",[["tab","cart"]],null,null,null,e.sb,e.G)),u.qb(20,49152,null,0,o.wb,[u.h,u.k,u.x],{tab:[0,"tab"]},null),(l()(),u.rb(21,0,null,0,0,"span",[["class","iconfont icon-gouwuche"]],null,null,null,null,null)),(l()(),u.rb(22,0,null,0,2,"ion-label",[],null,null,null,e.fb,e.t)),u.qb(23,49152,null,0,o.O,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,["\u8d2d\u7269\u8f66"])),(l()(),u.gb(16777216,null,null,1,null,p)),u.qb(26,16384,null,0,i.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(27,0,null,0,5,"ion-tab-button",[["tab","profile"]],null,null,null,e.sb,e.G)),u.qb(28,49152,null,0,o.wb,[u.h,u.k,u.x],{tab:[0,"tab"]},null),(l()(),u.rb(29,0,null,0,0,"span",[["class","iconfont icon-account"]],null,null,null,null,null)),(l()(),u.rb(30,0,null,0,2,"ion-label",[],null,null,null,e.fb,e.t)),u.qb(31,49152,null,0,o.O,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,["\u6211\u7684"]))],(function(l,n){var t=n.component;l(n,7,0,"index"),l(n,13,0,"mall"),l(n,20,0,"cart"),l(n,26,0,t.cartNum>0),l(n,28,0,"profile")}),null)}function g(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"app-tabs",[],null,null,null,f,d)),u.qb(1,49152,null,0,s,[o.e,h.b,o.Jb,o.Ib],null,null)],null,null)}var m=u.nb("app-tabs",s,g,{},{},[]),x=t("s7LF"),k=t("iInd");const C=()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"FH9X")).then(l=>l.IndexPageModuleNgFactory),B=()=>Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"eDSp")).then(l=>l.MallPageModuleNgFactory),v=()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,"mE0X")).then(l=>l.CartPageModuleNgFactory),M=()=>Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"7Csk")).then(l=>l.MessagePageModuleNgFactory),P=()=>t.e(7).then(t.bind(null,"UIoA")).then(l=>l.ProfilePageModuleNgFactory);class q{}t.d(n,"TabsPageModuleNgFactory",(function(){return w}));var w=u.ob(a,[],(function(l){return u.Ab([u.Bb(512,u.j,u.Z,[[8,[b.a,m]],[3,u.j],u.v]),u.Bb(4608,i.l,i.k,[u.s,[2,i.r]]),u.Bb(4608,o.b,o.b,[u.x,u.g]),u.Bb(4608,o.Ib,o.Ib,[o.b,u.j,u.p]),u.Bb(4608,o.Lb,o.Lb,[o.b,u.j,u.p]),u.Bb(4608,x.p,x.p,[]),u.Bb(1073742336,i.b,i.b,[]),u.Bb(1073742336,o.Fb,o.Fb,[]),u.Bb(1073742336,x.o,x.o,[]),u.Bb(1073742336,x.e,x.e,[]),u.Bb(1073742336,k.o,k.o,[[2,k.t],[2,k.m]]),u.Bb(1073742336,q,q,[]),u.Bb(1073742336,a,a,[]),u.Bb(1024,k.k,(function(){return[[{path:"tabs",component:s,children:[{path:"index",children:[{path:"",loadChildren:C}]},{path:"mall",children:[{path:"",loadChildren:B}]},{path:"cart",children:[{path:"",loadChildren:v}]},{path:"message",children:[{path:"",loadChildren:M}]},{path:"profile",children:[{path:"",loadChildren:P}]},{path:"",redirectTo:"/tabs/index",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/index",pathMatch:"full"}]]}),[])])}))}}]);